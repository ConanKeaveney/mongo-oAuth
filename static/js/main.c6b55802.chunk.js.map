{"version":3,"sources":["index.js"],"names":["console","log","User","_ref","name","data","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Demo","props","_this","Object","_home_conan_Desktop_Tests_testauth_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_home_conan_Desktop_Tests_testauth_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_conan_Desktop_Tests_testauth_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","currentUser","setupStitch","appId","client","Stitch","hasAppClient","getAppClient","initializeAppClient","auth","hasRedirectResult","handleRedirectResult","catch","error","isLoggedIn","user","setState","credential","GoogleRedirectCredential","loginWithRedirect","profile","React","Component","ReactDOM","render","document","getElementById"],"mappings":"+OAOEA,QAAQC,IAAI,WAGZ,IAAMC,EAAO,SAAAC,GAAA,IAASC,EAATD,EAAGE,KAAH,OAAoBD,GAAQE,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,WAAMJ,KAG9CK,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXC,aAAa,GAHER,2MAQXG,KAAKM,6QAQLC,EAAQ,iBAGRC,EAASC,IAAOC,aAAaH,GAC/BE,IAAOE,aAAaJ,GACpBE,IAAOG,oBAAoBL,IAMpBM,KAAKC,oDACRN,EAAOK,KAAKE,uBAAuBC,MAAM9B,QAAQ+B,cACvD/B,QAAQC,IAAI,qCAGVqB,EAAOK,KAAKK,YAEVb,EAAcG,EAAOK,KAAKM,KAC9BnB,KAAKoB,SAAS,CAAEf,kBAGVgB,EAAa,IAAIC,IACvBd,EAAOK,KAAKU,kBAAkBF,uIAKzB,IACChB,EAAgBL,KAAKI,MAArBC,YACR,OAAQA,EAEJb,EAAAC,EAAAC,cAACN,EAAD,CAAMoC,QAASnB,EAAYmB,UAD3BhC,EAAAC,EAAAC,cAAA,6CAhDW+B,IAAMC,WAuDzBC,IAASC,OACPpC,EAAAC,EAAAC,cAACC,EAAD,MACAkC,SAASC,eAAe","file":"static/js/main.c6b55802.chunk.js","sourcesContent":["  import React from 'react';\n  import ReactDOM from 'react-dom';\n\n  //start stitch import\n  import { Stitch, GoogleRedirectCredential } from \"mongodb-stitch-browser-sdk\";\n  //end stitch import\n\n  console.log(\"Working\")\n\n  // Create a component to display google auth user information\n  const User = ({ data: name }) => name && <div><pre>{name}</pre></div>\n\n  // Create the main component\n  class Demo extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        currentUser: false\n      }\n    }\n\n    async componentDidMount() {\n      await this.setupStitch();\n    }\n\n    //start stitch setup\n    async setupStitch() {\n      //copy the name of your google-auth enabled stitch application here\n      //the name of the app will typically be the stitch application name\n      //with a \"-\"\" + random string appended\n      const appId = 'jobhub-wgzes';\n\n      // Get a client for your Stitch app, or instantiate a new one\n      const client = Stitch.hasAppClient(appId)\n        ? Stitch.getAppClient(appId)\n        : Stitch.initializeAppClient(appId);\n\n      //manage user authentication state\n      \n      // Check if this user has already authenticated and we're here\n      // from the redirect. If so, process the redirect to finish login.\n      if (client.auth.hasRedirectResult()) {\n        await client.auth.handleRedirectResult().catch(console.error);\n        console.log(\"Processed redirect result.\")\n      }\n\n      if (client.auth.isLoggedIn) {\n        // The user is logged in. Add their user object to component state.\n        var currentUser = client.auth.user;\n        this.setState({ currentUser });\n      } else {\n        // The user has not yet authenticated. Begin the Google login flow.\n        const credential = new GoogleRedirectCredential();\n        client.auth.loginWithRedirect(credential);\n      }\n    }\n    //end stitch setup\n\n    render() {\n      const { currentUser } = this.state;\n      return !currentUser\n        ? <div>User must authenticate.</div>\n        : <User profile={currentUser.profile}/>\n    }\n  }\n\n  // ========================================\n     \n  ReactDOM.render(\n    <Demo />,\n    document.getElementById('root')\n  );\n"],"sourceRoot":""}